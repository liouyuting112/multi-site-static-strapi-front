# 📝 如何更新文章

## 🎯 方法一：在 Strapi 后台直接编辑（推荐）

### 步骤 1：登入 Strapi 后台

1. 打开浏览器，访问 `http://localhost:1337/admin`
2. 登入你的账号

### 步骤 2：找到要编辑的文章

1. 点击左侧菜单的 **Content Manager**
2. 点击 **Post**（文章）
3. 在列表中找到你要编辑的文章，点击标题进入编辑页面

### 步骤 3：编辑文章内容

#### 编辑标题、slug、分类等基本信息
- **title**：文章标题
- **slug**：文章 URL 标识（例如：`2023-12-01`）
- **site**：所属站点（`site1`, `site2`, `site3`, `site4`, `site5`）
- **category**：文章分类（`daily` 或 `fixed`）

#### 编辑文章内容（html 字段）

1. 找到 **html** 字段（通常在页面下方）
2. 点击 **html** 字段的编辑器
3. 如果看到 Rich Text 编辑器工具栏：
   - 可以点击右上角的 **`</>`** 按钮切换到「源代码」模式
   - 或者直接编辑 HTML 代码
4. 编辑你的内容，例如：
   ```html
   <p>这是第一段文字。</p>
   
   <h2>这是小标题</h2>
   
   <p>这是第二段文字。</p>
   
   <div class="hero-image" style="margin-bottom: 2rem;">
       <img src="https://github.com/.../site1-daily1.webp?raw=true" alt="描述" style="width: 100%; height: auto;" loading="lazy">
   </div>
   ```

### 步骤 4：保存并发布

1. 点击右上角的 **Save** 按钮保存
2. 如果使用 Draft/Published 模式：
   - 点击 **Publish** 发布文章
   - 或者先保存为 **Draft**（草稿），稍后再发布

### 步骤 5：查看更新

1. 打开前端网站（例如：`http://localhost:8000/site1/index.html`）
2. 按 `F5` 刷新页面
3. 文章内容会自动从 Strapi 加载并显示最新内容

---

## 🔄 方法二：批量更新（使用脚本）

如果你修改了本地 HTML 文件，想要批量更新到 Strapi：

### 步骤 1：修改本地 HTML 文件

在 `site1/articles/`, `site2/articles/` 等目录下编辑 HTML 文件。

### 步骤 2：运行更新脚本

```bash
cd strapi-import
npm run update-html
```

脚本会：
- 自动读取所有站点的 HTML 文件
- 提取文章内容
- 更新到 Strapi 中对应的文章

---

## 📋 编辑 HTML 内容的建议

### ✅ 推荐格式

```html
<!-- 段落 -->
<p>这是段落文字。</p>

<!-- 小标题 -->
<h2>这是二级标题</h2>
<h3>这是三级标题</h3>

<!-- 强调 -->
<strong>粗体文字</strong>
<em>斜体文字</em>

<!-- 图片 -->
<div class="hero-image" style="margin-bottom: 2rem;">
    <img src="图片URL" alt="描述" style="width: 100%; height: auto;" loading="lazy">
</div>

<!-- 列表 -->
<ul>
    <li>列表项 1</li>
    <li>列表项 2</li>
</ul>

<ol>
    <li>有序列表项 1</li>
    <li>有序列表项 2</li>
</ol>
```

### ⚠️ 注意事项

1. **不要包含外层的 `<article>` 标签**
   - ❌ 错误：`<article class="article-content">...</article>`
   - ✅ 正确：直接写内容

2. **不要包含 `<h1>` 标题**
   - 页面的 `<h1>` 会自动从 `title` 字段加载
   - `html` 字段中只需要写 `<h2>`, `<h3>` 等小标题

3. **保留样式**
   - 内联样式会被保留：`style="margin-bottom: 2rem;"`
   - 或使用 CSS 类（如果已在 `style.css` 中定义）

4. **图片 URL**
   - 保持图片 URL 不变（使用 GitHub 或其他 CDN）
   - 确保 URL 可访问

---

## 🎯 更新流程总结

```
1. 在 Strapi 后台编辑文章
   ↓
2. 修改 title, slug, site, category, html 等字段
   ↓
3. 点击 Save 保存
   ↓
4. 点击 Publish 发布（如果使用 Draft 模式）
   ↓
5. 刷新前端网站页面（F5）
   ↓
6. 完成！内容自动更新
```

---

## ❓ 常见问题

### Q: 编辑后前端没有更新？
A: 
- 确认已点击 **Save** 和 **Publish**
- 确认前端页面已刷新（`Ctrl+F5` 强制刷新）
- 检查浏览器 Console 是否有错误

### Q: HTML 格式显示不正确？
A: 
- 确认 HTML 标签正确闭合
- 检查是否有特殊字符需要转义
- 尝试切换到「源代码」模式编辑

### Q: 想要批量更新多篇文章？
A: 
- 使用脚本：`npm run update-html`
- 或逐篇在 Strapi 后台编辑

### Q: 如何添加新文章？
A: 
1. 在 Strapi 后台点击 **Create new entry**
2. 填写 `title`, `slug`, `site`, `category`
3. 在 `html` 字段中写入文章内容
4. 保存并发布

---

## 🚀 快速参考

- **Strapi 后台**：`http://localhost:1337/admin`
- **前端网站**：`http://localhost:8000/site1/index.html`（根据你的服务器端口调整）
- **更新脚本**：`cd strapi-import && npm run update-html`



