# 🚀 完整版上傳腳本說明

## 🎯 功能說明

`上傳網站-完整版.bat` 是一個**完整的自動化腳本**，包含：

- ✅ **設定 GitHub 倉庫位置**（其他電腦可以連接）
- ✅ **設定 Strapi 後台位置**（內容上傳目標）
- ✅ **支援多檔案上傳**（一次上傳多個網站）
- ✅ **自動格式轉換**（轉換成 Strapi 格式）
- ✅ **自動推送到 GitHub**
- ✅ **Vercel 自動部署**

---

## 📋 使用流程

### 步驟 1：設定 GitHub 倉庫

**第一次使用時：**
```
[1/6] 設定 GitHub 倉庫
📍 請設定 GitHub 倉庫位置
GitHub 倉庫 URL: https://github.com/liouyuting112/multi-site-static-strapi-front
分支名稱: main
```

**之後使用：**
- 會自動載入設定
- 可以選擇使用現有設定或重新設定

---

### 步驟 2：設定 Strapi 後台

**第一次使用時：**
```
[2/6] 設定 Strapi 後台
📍 請設定 Strapi 後台位置
Strapi URL: https://effortless-whisper-83765d99df.strapiapp.com
Strapi API Token: [您的 Token]
```

**之後使用：**
- 會自動載入設定
- 可以選擇使用現有設定或重新設定

---

### 步驟 3：選擇要上傳的檔案（支援多個）

```
[3/6] 選擇要上傳的網站檔案（支援多個）

📁 網站 1
請輸入網站資料夾路徑: C:\Users\...\site11
✅ 找到：site11

是否要新增更多網站？(Y/N): Y

📁 網站 2
請輸入網站資料夾路徑: C:\Users\...\site12
✅ 找到：site12

是否要新增更多網站？(Y/N): N

✅ 已選擇 2 個網站
```

---

### 步驟 4：準備 Git 工作區

```
[4/6] 準備 Git 工作區
🔗 連接 GitHub 倉庫
📥 取得倉庫資訊（不下載檔案）
✅ Git 工作區準備完成
```

---

### 步驟 5：複製檔案並上傳到 Strapi

```
[5/6] 複製檔案並上傳到 Strapi

📦 處理網站：site11
   正在複製檔案...
   正在上傳到 Strapi...
   後台：https://effortless-whisper-83765d99df.strapiapp.com
   ✅ 上傳成功

📦 處理網站：site12
   正在複製檔案...
   正在上傳到 Strapi...
   ✅ 上傳成功

📊 Strapi 上傳統計
   成功：2 個網站
   失敗：0 個網站
```

---

### 步驟 6：推送到 GitHub

```
[6/6] 推送到 GitHub
📤 正在加入檔案到 Git...
📝 正在建立 commit...
🚀 正在推送到 GitHub...
   倉庫：https://github.com/liouyuting112/multi-site-static-strapi-front
   分支：main
✅ 已推送到 GitHub
```

---

## 💾 設定檔儲存

### 設定檔位置

設定會自動儲存到：
```
獨立腳本包/上傳設定.txt
```

### 設定檔內容

```
GITHUB_URL=https://github.com/liouyuting112/multi-site-static-strapi-front
GITHUB_BRANCH=main
STRAPI_URL=https://effortless-whisper-83765d99df.strapiapp.com
STRAPI_TOKEN=您的Token
```

### 設定檔用途

✅ **其他電腦可以使用**
- 複製設定檔到其他電腦
- 或手動編輯設定檔

✅ **自動載入**
- 下次使用時自動載入設定
- 不需要重新輸入

---

## 🎯 使用範例

### 範例 1：第一次使用

```
1. 執行腳本
2. 設定 GitHub 倉庫
3. 設定 Strapi 後台
4. 選擇要上傳的網站（可以多個）
5. 完成！
```

### 範例 2：之後使用

```
1. 執行腳本
2. 使用現有設定（自動載入）
3. 選擇要上傳的網站（可以多個）
4. 完成！
```

### 範例 3：其他電腦使用

```
1. 複製設定檔到其他電腦
2. 執行腳本
3. 使用現有設定（自動載入）
4. 選擇要上傳的網站
5. 完成！
```

---

## 💡 重要說明

### 多檔案上傳

✅ **支援一次上傳多個網站**
- 可以選擇多個網站資料夾
- 會依序處理每個網站
- 顯示每個網站的處理狀態

### 自動格式轉換

✅ **自動轉換成 Strapi 格式**
- 提取 HTML 內容
- 提取標題、圖片等
- 限制 html 欄位為 250 字元
- 自動判斷 daily/fixed 類別

### 設定檔管理

✅ **設定檔可以分享**
- 複製設定檔到其他電腦
- 或手動編輯設定檔
- 設定會自動載入

---

## 🎉 總結

**完整版的優點：**
- ✅ 完整的設定流程
- ✅ 支援多檔案上傳
- ✅ 自動格式轉換
- ✅ 設定檔自動儲存
- ✅ 其他電腦可以使用

**使用方式：**
1. 執行腳本
2. 按照提示設定
3. 選擇要上傳的網站
4. 完成！

**就是這麼簡單！** 🚀


