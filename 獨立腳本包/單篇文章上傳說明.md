# 📝 單篇文章上傳腳本說明

## 🎯 功能說明

`單篇文章上傳.bat` 是一個**單篇文章上傳腳本**，可以：

- ✅ **選擇單個文章檔案**
- ✅ **自動判斷網站名稱**
- ✅ **上傳到 Strapi**
- ✅ **推送到 GitHub**
- ✅ **不需要下載整個專案**

---

## 🚀 使用方式

### 步驟 1：執行腳本

```bash
# 雙擊執行
單篇文章上傳.bat
```

### 步驟 2：設定（第一次使用）

**如果沒有設定檔：**
```
[1/4] 設定 GitHub 和 Strapi
📍 請設定 GitHub 倉庫位置
GitHub 倉庫 URL: https://github.com/liouyuting112/multi-site-static-strapi-front
分支名稱: main

📍 請設定 Strapi 後台位置
Strapi URL: https://effortless-whisper-83765d99df.strapiapp.com
Strapi API Token: [您的 Token]
```

**如果有設定檔：**
- 會自動載入設定
- 可以選擇使用現有設定或重新設定

### 步驟 3：選擇文章檔案

```
[2/4] 選擇文章檔案
請輸入文章檔案完整路徑: C:\Users\...\site6\articles\2025-12-07.html

✅ 找到檔案：C:\Users\...\site6\articles\2025-12-07.html
   檔案名稱：2025-12-07.html
   檔案目錄：C:\Users\...\site6\articles\
   網站名稱：site6
```

### 步驟 4：自動處理

腳本會自動：
- 上傳到 Strapi
- 推送到 GitHub

---

## 🔄 工作流程

### 單篇文章上傳流程

```
1. 選擇文章檔案
   ↓
2. 自動判斷網站名稱
   - 從路徑中提取（site6, site7 等）
   - 或手動輸入
   ↓
3. 建立臨時目錄
   - 只包含這篇文章
   ↓
4. 上傳到 Strapi
   - 使用 upload-site-to-strapi.js
   - 只上傳這篇文章
   ↓
5. 找到 Git 倉庫根目錄
   ↓
6. 加入檔案到 Git
   ↓
7. 建立 commit
   ↓
8. 推送到 GitHub（只推送這個檔案）
   ↓
9. Vercel 自動部署
```

---

## 💡 重要說明

### 自動判斷網站名稱

**腳本會自動：**
- 從檔案路徑中提取網站名稱
- 例如：`C:\...\site6\articles\2025-12-07.html` → `site6`

**如果無法判斷：**
- 會提示手動輸入網站名稱

### 不需要下載整個專案

**腳本只會：**
- 找到 Git 倉庫根目錄
- 加入單個文章檔案
- 推送到 GitHub

**不會：**
- 下載整個專案
- 影響其他檔案

---

## 📋 使用範例

### 範例 1：上傳單篇文章

```
1. 執行腳本
   單篇文章上傳.bat

2. 選擇文章檔案
   C:\Users\...\site6\articles\2025-12-07.html

3. 自動處理
   - 上傳到 Strapi
   - 推送到 GitHub
```

### 範例 2：上傳多篇文章

**可以多次執行腳本：**
```
1. 執行腳本 → 選擇第一篇文章
2. 執行腳本 → 選擇第二篇文章
3. 執行腳本 → 選擇第三篇文章
```

---

## 🎯 優勢

### 單篇文章上傳的優勢

✅ **快速高效**
- 只處理單個檔案
- 不需要掃描整個資料夾

✅ **不需要下載整個專案**
- 只找到 Git 倉庫根目錄
- 只推送單個檔案

✅ **自動判斷網站名稱**
- 從路徑自動提取
- 減少手動輸入

---

## 🎉 總結

**單篇文章上傳的優點：**
- ✅ 快速上傳單篇文章
- ✅ 自動判斷網站名稱
- ✅ 不需要下載整個專案
- ✅ 自動推送到 GitHub

**使用方式：**
1. 執行 `單篇文章上傳.bat`
2. 選擇文章檔案
3. 完成！

**就是這麼簡單！** 🚀



