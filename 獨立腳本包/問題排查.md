# 🔍 問題排查指南

## 如果上傳失敗，請檢查以下項目：

### 1. 環境變數設定

**檢查方式：**
```bash
# 執行測試腳本
測試上傳.bat
```

**如果失敗，檢查：**
- STRAPI_URL 是否正確
- STRAPI_TOKEN 是否正確
- 環境變數是否正確傳遞給 Node.js

---

### 2. Strapi 後台連線

**檢查方式：**
- 打開瀏覽器訪問 Strapi URL
- 確認後台可以正常訪問
- 確認 API Token 有正確權限

---

### 3. GitHub 認證

**檢查方式：**
```bash
git config user.name
git config user.email
```

**如果未設定：**
- 執行腳本時會提示輸入
- 或手動設定：
  ```bash
  git config --global user.name "您的名稱"
  git config --global user.email "您的Email"
  ```

---

### 4. Git Push 權限

**檢查方式：**
- 確認 GitHub 倉庫 URL 正確
- 確認有推送權限
- 確認網路連線正常

---

### 5. 檔案路徑

**檢查方式：**
- 確認網站資料夾路徑正確
- 確認資料夾中包含 index.html
- 確認 articles/ 資料夾存在

---

## 常見錯誤

### 錯誤 1：找不到上傳腳本

**解決方式：**
- 確認 `upload-site-to-strapi.js` 存在
- 確認腳本在正確的目錄

### 錯誤 2：環境變數未傳遞

**解決方式：**
- 使用 `測試上傳.bat` 測試
- 確認批次檔中環境變數設定正確

### 錯誤 3：Git Push 失敗

**解決方式：**
- 檢查 Git 認證
- 檢查網路連線
- 檢查倉庫權限

---

## 調試步驟

1. **執行測試腳本**
   ```bash
   測試上傳.bat
   ```

2. **檢查錯誤訊息**
   - 查看詳細錯誤訊息
   - 確認是哪個步驟失敗

3. **檢查設定檔**
   - 查看 `上傳設定.txt`
   - 確認設定正確

4. **檢查日誌**
   - 查看腳本輸出
   - 確認每個步驟的狀態

---

## 如果還是有問題

請提供：
1. 錯誤訊息截圖
2. 執行到哪個步驟
3. 設定檔內容（隱藏 Token）



