# 📝 Strapi 文章編輯工具使用說明

## 🎯 兩種編輯方式

### 方式一：命令行工具（推薦，最靈活）

#### 1. 列出所有文章
```bash
cd strapi-import
npm run list
```
或
```bash
node edit-article.js list
```

會顯示所有文章，按站點分組。

#### 2. 編輯單篇文章
```bash
npm run edit site1 2023-12-01
```
或
```bash
node edit-article.js edit site1 2023-12-01
```

**流程：**
1. 腳本會從 Strapi 獲取文章
2. 將內容保存到 `strapi-import/editing/site1-2023-12-01.html`
3. 你可以用任何編輯器打開這個檔案（VS Code、Notepad++、記事本等）
4. 編輯完成後，回到命令提示符，按 Enter
5. 腳本會自動更新到 Strapi

#### 3. 批量編輯所有文章
```bash
node edit-article.js edit-all
```

會逐個處理所有文章。

---

## 📁 編輯檔案位置

編輯檔案會保存在：
```
strapi-import/editing/
  ├── site1-2023-12-01.html    # HTML 內容
  ├── site1-2023-12-01.json    # 元數據（標題、slug 等）
  ├── site2-xxx.html
  └── ...
```

## ✏️ 編輯建議

### 編輯 HTML 檔案
- 直接用你喜歡的編輯器打開 `.html` 檔案
- 可以修改任何內容：文字、圖片、標題等
- **不要包含 `<h1>` 標題**（會從 `title` 字段自動載入）

### 編輯 JSON 檔案（可選）
如果需要修改標題、slug、分類等，可以編輯 `.json` 檔案：
```json
{
  "title": "新標題",
  "slug": "new-slug",
  "site": "site1",
  "category": "daily"
}
```

---

## 🚀 完整工作流程

### 範例：編輯 site1 的 2023-12-01 文章

1. **啟動編輯**
   ```bash
   cd strapi-import
   npm run edit site1 2023-12-01
   ```

2. **編輯內容**
   - 腳本會顯示：`📝 文章內容已保存到: strapi-import/editing/site1-2023-12-01.html`
   - 用 VS Code 或其他編輯器打開這個檔案
   - 修改內容（例如：改圖片描述、改文字等）

3. **保存並更新**
   - 在編輯器中保存檔案
   - 回到命令提示符，按 Enter
   - 腳本會自動更新到 Strapi

4. **查看結果**
   - 刷新前端網站頁面
   - 或檢查 Strapi 後台

---

## 💡 優點

✅ **使用你熟悉的編輯器**（VS Code、Notepad++ 等）  
✅ **可以批量編輯**（一次編輯多個檔案）  
✅ **可以版本控制**（用 Git 管理編輯檔案）  
✅ **可以搜索替換**（編輯器功能更強大）  
✅ **自動同步到 Strapi**（編輯完按 Enter 即可）

---

## ⚠️ 注意事項

1. **編輯檔案是臨時的**
   - 編輯完成並更新到 Strapi 後，可以刪除 `editing/` 目錄中的檔案
   - 或保留作為備份

2. **HTML 格式**
   - 保持 HTML 標籤正確
   - 不要包含外層 `<article>` 標籤
   - 不要包含 `<h1>` 標題

3. **如果更新失敗**
   - 檢查 Strapi 是否在運行
   - 檢查 API Token 是否正確
   - 檢查網路連接

---

## 🔄 與 Strapi 後台編輯的比較

| 功能 | 命令行工具 | Strapi 後台 |
|------|-----------|------------|
| 編輯器 | 任何編輯器（VS Code 等） | 內建編輯器 |
| 搜索替換 | ✅ 支援 | ❌ 有限 |
| 批量編輯 | ✅ 支援 | ❌ 需逐篇 |
| 版本控制 | ✅ 可用 Git | ❌ 不支援 |
| 自動完成 | ✅ 編輯器功能 | ❌ 有限 |
| 同步 | 需手動執行 | 自動保存 |

---

## 📋 常用命令速查

```bash
# 列出所有文章
npm run list

# 編輯單篇文章
npm run edit site1 2023-12-01

# 批量編輯所有文章
node edit-article.js edit-all

# 重新導入所有 HTML（從本地檔案）
npm run update-html
```




